var v=Object.defineProperty;var P=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var S=(h,t,e)=>t in h?v(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e,C=(h,t)=>{for(var e in t||(t={}))L.call(t,e)&&S(h,e,t[e]);if(P)for(var e of P(t))A.call(t,e)&&S(h,e,t[e]);return h};var s=(h,t,e)=>(S(h,typeof t!="symbol"?t+"":t,e),e);const F=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}};F();class z{constructor(t){s(this,"_container");s(this,"_canvas");s(this,"_context");s(this,"_width",0);s(this,"_height",0);s(this,"_time",0);s(this,"_elapsed",0);s(this,"_animationRequestId",0);s(this,"_updateBind");s(this,"_resizeBind");this._container=t;const e=this._container.getBoundingClientRect();this._width=Math.floor(e.width),this._height=Math.floor(e.height),this._canvas=document.createElement("canvas"),this._canvas.width=this._width,this._canvas.height=this._height;const i=this._canvas.getContext("2d");if(i)this._context=i;else throw"unable to get 2d context";this._container.appendChild(this._canvas),this._updateBind=this.update.bind(this),this._resizeBind=this.resize.bind(this),this._animationRequestId=requestAnimationFrame(this._updateBind),window.addEventListener("resize",this._resizeBind)}update(){const t=new Date().getTime();this._elapsed=(t-(this._time||t))/1e3,this._time=t,this._animationRequestId=requestAnimationFrame(this._updateBind),this.draw()}resize(){if(this._container!==void 0){const t=this._container.getBoundingClientRect(),e=Math.floor(t.width),i=Math.floor(t.height);this._width=e,this._height=i,this._canvas.width=e,this._canvas.height=i}}dispose(){cancelAnimationFrame(this._animationRequestId),window.removeEventListener("resize",this._resizeBind)}}const w=(h,t)=>{const e=t-h;return t===h?h:Math.random()*e+h};class O{constructor(){s(this,"bubbles",[]);s(this,"total",22);s(this,"averageSpeed",50);s(this,"speedDeviation",12);s(this,"current",0);s(this,"swing",0);s(this,"averageSize",4);s(this,"minX",0);s(this,"maxX",0);s(this,"minY",0);s(this,"maxY",0);s(this,"yThreshold",0)}getBubble(){const t=w(this.minX,this.maxX),e=w(this.minY,this.maxY),i=w(this.averageSize*.5,this.averageSize*1.5),o=i<this.averageSize?.5:1,r=w(this.averageSpeed-this.speedDeviation,this.averageSpeed+this.speedDeviation),l=(e-this.yThreshold)/r;return new W(t,e,i,r,l,o)}resetBubble(t){this.bubbles=this.bubbles.filter(e=>e!==t),this.bubbles.length<this.total&&this.bubbles.push(this.getBubble())}updateBubbleCount(){if(this.bubbles.length<this.total){const t=this.total-this.bubbles.length;for(let e=0;e<t;e++)this.bubbles.push(this.getBubble())}}reset(){this.bubbles=[];for(let t=0;t<this.total;t++)this.bubbles.push(this.getBubble())}}class W{constructor(t,e,i,o,r,n=1){s(this,"x",0);s(this,"y",0);s(this,"r",0);s(this,"velY",0);s(this,"lifespan",0);s(this,"currentRadius",0);s(this,"currentLifespan",0);s(this,"opacityThreshold",0);s(this,"currentOpacity",1);s(this,"opacityDecayingSpeed",0);this.x=t,this.y=e,this.r=i,this.velY=o,this.lifespan=r,this.currentLifespan=r,this.currentOpacity=n,this.opacityThreshold=this.lifespan*.2,this.opacityDecayingSpeed=100/this.lifespan*.2}get isDead(){return this.currentLifespan<=0}update(t){this.y-=this.velY*t,this.currentRadius<this.r&&(this.currentRadius+=20*t),this.currentLifespan<this.opacityThreshold&&(this.currentOpacity-=this.opacityDecayingSpeed*t,this.currentOpacity<=0&&(this.currentOpacity=0)),this.currentLifespan-=t}}class x{static pSBC(t,e,i=null,o=null){let r,n,l,d,a,c=typeof i=="string",f,u;const g=Math.round;return r=e.length>9,r=c?i.length>9?!0:i=="c"?!r:!1:r,u=this.pSBCr(e),f=t<0,a=i&&i!="c"?this.pSBCr(i):f?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},t=f?t*-1:t,f=1-t,!u||!a?null:(o?(n=g(f*u.r+t*a.r),l=g(f*u.g+t*a.g),d=g(f*u.b+t*a.b)):(n=g((f*u.r**2+t*a.r**2)**.5),l=g((f*u.g**2+t*a.g**2)**.5),d=g((f*u.b**2+t*a.b**2)**.5)),c=u.a,a=a.a,u=c>=0||a>=0,c=u?c<0?a:a<0?c:c*f+a*t:0,r?"rgb"+(u?"a(":"(")+n+","+l+","+d+(u?","+g(c*1e3)/1e3:"")+")":"#"+(4294967296+n*16777216+l*65536+d*256+(u?g(c*255):0)).toString(16).slice(1,u?void 0:-2))}static pSBCr(t){let e,i,o,r;const n=parseInt,l=Math.round;let d=t.length;const a={r:0,g:0,b:0,a:0};if(d>9){if([e,i,o,r]=t.split(","),d=t.length,d<3||d>4)return null;a.r=n(e[3]=="a"?e.slice(5):e.slice(4)),a.g=n(i),a.b=n(o),a.a=r?parseFloat(r):-1}else{if(d==8||d==6||d<4)return null;d<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(d>4?t[4]+t[4]:""));const c=n(t.slice(1),16);d==9||d==5?(a.r=c>>24&255,a.g=c>>16&255,a.b=c>>8&255,a.a=l((c&255)/.255)/1e3):(a.r=c>>16,a.g=c>>8&255,a.b=c&255,a.a=-1)}return a}}var p;(function(h){h[h.SLOW=0]="SLOW",h[h.NORMAL=1]="NORMAL",h[h.FAST=2]="FAST"})(p||(p={}));class _{}s(_,"ANGULAR_SPEED_NORMAL",Math.PI/2),s(_,"ANGULAR_SPEED_FAST",Math.PI),s(_,"ANGULAR_SPEED_SLOW",Math.PI/4),s(_,"HORIZONTAL_SPEED_NORMAL",55),s(_,"HORIZONTAL_SPEED_FAST",155),s(_,"HORIZONTAL_SPEED_SLOW",25);class M{static buildFluidLayersFromConfiguration(t,e){let i=_.ANGULAR_SPEED_NORMAL,o=_.HORIZONTAL_SPEED_NORMAL;const r=this.calculateFrequency(e);switch(t.horizontalSpeed){case 2:o=_.HORIZONTAL_SPEED_FAST;break;case 0:o=_.HORIZONTAL_SPEED_SLOW;break;default:o=_.HORIZONTAL_SPEED_NORMAL;break}switch(t.waveSpeed){case 2:i=_.ANGULAR_SPEED_FAST;break;case 0:i=_.ANGULAR_SPEED_SLOW;break;default:i=_.ANGULAR_SPEED_NORMAL;break}const n=x.pSBC(-.75,t.color||"#ffffff"),l=this.calculateWaveAmplitude(e),d={angle:0,horizontalPosition:0,color:t.color||"#ffffff",frequency:r,waveAmplitude:l,horizontalSpeed:o,waveSpeed:i};return[{angle:0,horizontalPosition:0,color:n||t.color||"#ffffff",frequency:r,waveAmplitude:l,horizontalSpeed:-o,waveSpeed:i},d]}static calculateWaveAmplitude(t){return t*.021}static calculateFrequency(t){return t/11}}const k={initialProgress:0,borderWidth:[{resolution:0,value:10},{resolution:768,value:15},{resolution:1440,value:30}],borderColor:"#75758b",padding:30,backgroundColor:"#9f9fae",showProgress:!0,showBubbles:!0,bubbleColor:"#ffffff",textColor:"#ffffff",textDropShadow:!0,fontFamily:"Arial",fontSize:[{resolution:0,value:13},{resolution:320,value:30},{resolution:718,value:90},{resolution:1440,value:95}],use3D:!0,dropShadow:!0,progressFormatter:h=>Math.round(h).toString(),fluidConfiguration:{color:"#ff0000",waveSpeed:p.NORMAL,horizontalSpeed:p.NORMAL}},B=(h,t)=>{var i,o;if(!t.length)return 0;const e=(o=(i=t.filter(r=>r.resolution<=h))==null?void 0:i.sort(D))==null?void 0:o[0];if(e)return e.value;{const r=t.sort(D).reverse()[0];return r?r.value:0}},D=(h,t)=>h.resolution<t.resolution?1:h.resolution>t.resolution?-1:0;class R extends z{constructor(t,e){super(t);s(this,"_fluidConfiguration");s(this,"_layers");s(this,"_bubbles",new O);s(this,"_meterDiameter",0);s(this,"_targetProgress");s(this,"_progress");s(this,"_calculatedBorderWidth",0);s(this,"_borderWidth");s(this,"_borderColor","#ff00ff");s(this,"_padding",15);s(this,"_backgroundColor","#ff00ff");s(this,"_textColor","");s(this,"_fontFamily","Arial");s(this,"_calculatedFontSize",0);s(this,"_fontSize");s(this,"_textDropShadow",!0);s(this,"_showProgress",!0);s(this,"_showBubbles",!0);s(this,"_bubbleColor","#ffffff");s(this,"_use3D",!0);s(this,"_dropShadow",!0);s(this,"_progressFormatter",t=>`${t}%`);const i=C(C({},k),e);this._borderWidth=i.borderWidth,this._borderColor=i.borderColor,this._padding=i.padding,this._progress=i.initialProgress,this._targetProgress=this._progress,this._backgroundColor=i.backgroundColor,this._fluidConfiguration=i.fluidConfiguration,this._textColor=i.textColor,this._textDropShadow=i.textDropShadow,this._showProgress=i.showProgress,this._fontFamily=i.fontFamily,this._fontSize=i.fontSize,this._showBubbles=i.showBubbles,this._bubbleColor=i.bubbleColor,this._use3D=i.use3D,this._dropShadow=i.dropShadow,this._progressFormatter=i.progressFormatter,this.calculateDrawingValues()}get progress(){return this._progress}set progress(t){t>100||t<0||(this._targetProgress=t)}get borderWidth(){return this._borderWidth}set borderWidth(t){this._borderWidth=t,this.calculateDrawingValues()}get borderColor(){return this._borderColor}set borderColor(t){this._borderColor=t}get meterPadding(){return this._padding}set meterPadding(t){this._padding=t,this.calculateDrawingValues()}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){this._backgroundColor=t}get textColor(){return this._textColor}set textColor(t){this._textColor=t}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t}get textDropShadow(){return this._textDropShadow}set textDropShadow(t){this._textDropShadow=t}get showProgress(){return this._showProgress}set showProgress(t){this._showProgress=t}get showBubbles(){return this._showBubbles}set showBubbles(t){this._showBubbles=t}get bubbleColor(){return this._bubbleColor}set bubbleColor(t){this._bubbleColor=t}get use3D(){return this._use3D}set use3D(t){this._use3D=t}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow=t}set progressFormatter(t){this._progressFormatter=t}draw(){this.clear(),!(this._meterDiameter<=0||!this._width||!this._height)&&(this._dropShadow&&(this._context.save(),this._context.beginPath(),this._context.shadowColor="#000000",this._context.shadowBlur=10,this._context.shadowOffsetY=5,this._context.arc(this._width/2,this._height/2,this._meterDiameter/2-1,0,2*Math.PI),this._context.closePath(),this._context.fill(),this._context.restore()),this.drawBackground(),this._context.save(),this._context.arc(this._width/2,this._height/2,this._meterDiameter/2-this._calculatedBorderWidth,0,Math.PI*2),this._context.clip(),this._layers&&(this.drawLayer(this._layers[0],!1),this.drawLayer(this._layers[1])),this._showBubbles&&(this._bubbles.updateBubbleCount(),this.drawBubbles()),this._showProgress&&this.drawText(),this._context.restore(),this.drawForeground())}clear(){this._context.clearRect(0,0,this._width,this._height)}calculateDrawingValues(){this._meterDiameter=this.calculateMeterDiameter(),this._layers=M.buildFluidLayersFromConfiguration(this._fluidConfiguration,this._meterDiameter);const t=window.innerWidth;typeof this._borderWidth=="number"?this._calculatedBorderWidth=this._borderWidth:this._calculatedBorderWidth=B(t,this._borderWidth),typeof this._fontSize=="number"?this._calculatedFontSize=this._fontSize:this._calculatedFontSize=B(t,this._fontSize),this.updateBubbleLayer(),this._bubbles.reset()}updateBubbleLayer(){const t=this.getMeterBottomLimit();let e=this.getFluidLevel();this._layers&&(e+=this._layers[0].waveAmplitude);let i=t*.85;i<e&&(i=e);const o=t,r=this._width/2-this._meterDiameter/2,n=this._width/2+this._meterDiameter/2;this._bubbles.minY=i,this._bubbles.maxY=o,this._bubbles.minX=r,this._bubbles.maxX=n,this._bubbles.yThreshold=e,this._bubbles.averageSize=this._meterDiameter*.006,this._bubbles.averageSpeed=this._meterDiameter*2/14,this._bubbles.speedDeviation=this._bubbles.averageSpeed*.25;let l=this._width*.1;this._progress<50&&this._progress>=25?l=l*.5:this._progress<25&&this._progress>=12?l=l*.18:this._progress<12&&(l=l*.04),this._bubbles.total=l}getMeterBottomLimit(){return this._height-(this._height-this._meterDiameter)/2-this._calculatedBorderWidth}getFluidLevel(){let t=0;this._layers&&(t=this._layers[0].waveAmplitude/2);const e=(this._meterDiameter-t-this._calculatedBorderWidth*2)*this._progress/100;return this.getMeterBottomLimit()-e}drawLayer(t,e=!0){let i=t.angle+t.waveSpeed*this._elapsed;i>Math.PI*2&&(i=i-Math.PI*2),t.angle=i,t.horizontalPosition+=t.horizontalSpeed*this._elapsed;let o=0,r=0;const n=t.waveAmplitude*Math.sin(t.angle),l=this.getMeterBottomLimit(),d=this.getFluidLevel();for(this._progress<this._targetProgress?(this._progress+=15*this._elapsed,this._progress>this._targetProgress&&(this._progress=this._targetProgress),this.updateBubbleLayer()):this._progress>this._targetProgress&&(this._progress-=15*this._elapsed,this._progress<this._targetProgress&&(this._progress=this._targetProgress),this.updateBubbleLayer()),this._context.save(),this._context.beginPath(),this._context.lineTo(0,d);o<this._width;)r=d+n*Math.sin((o+t.horizontalPosition)/t.frequency),this._context.lineTo(o,r),o++;if(this._context.lineTo(o,this._height),this._context.lineTo(0,this._height),this._context.closePath(),this._use3D&&e){const a=this._width/2,c=l,f=this._meterDiameter*.05,u=this._context.createRadialGradient(a,c,f,a,c,this._meterDiameter*.65),g=t.color,y=x.pSBC(-.8,t.color);u.addColorStop(0,g),y&&u.addColorStop(1,y),this._context.fillStyle=u}else this._context.fillStyle=t.color;this._context.fill(),this._context.restore()}drawText(){const t=this._progressFormatter(this._progress);this._context.save(),this._context.font=`${this._calculatedFontSize}px ${this._fontFamily}`,this._context.fillStyle=this._textColor,this._context.textAlign="center",this._context.textBaseline="middle",this._textDropShadow&&(this._context.shadowColor="#000000",this._context.shadowBlur=7),this._context.fillText(t,this._width/2,this._height/2),this._context.restore()}drawBackground(){if(this._context.save(),this._context.beginPath(),this._context.arc(this._width/2,this._height/2,this._meterDiameter/2-this._calculatedBorderWidth,0,2*Math.PI),this._context.closePath(),this._use3D){const t=this._width/2,e=this._height/2,i=this._meterDiameter*.1,o=this._context.createRadialGradient(t,e,i,t,e,this._meterDiameter*.75),r=this._backgroundColor,n=x.pSBC(-.8,this.backgroundColor);o.addColorStop(0,r),n&&o.addColorStop(.9,n),this._context.fillStyle=o}else this._context.fillStyle=this.backgroundColor;this._context.fill(),this._context.restore()}drawForeground(){this._context.save(),this._context.lineWidth=this._calculatedBorderWidth,this._context.strokeStyle=this._borderColor,this._context.beginPath(),this._context.arc(this._width/2,this._height/2,this._meterDiameter/2-this._calculatedBorderWidth/2,0,2*Math.PI),this._context.closePath(),this._context.stroke();const t=x.pSBC(-.35,this._borderColor),e=this._calculatedBorderWidth*.25;this._context.lineWidth=e,this._context.strokeStyle=t||this._borderColor,this._context.beginPath(),this._context.arc(this._width/2,this._height/2,this._meterDiameter/2-this._calculatedBorderWidth*.85-e/2,0,2*Math.PI),this._context.closePath(),this._context.stroke();const i=x.pSBC(.05,this._borderColor),o=this._calculatedBorderWidth*.15;if(this._context.lineWidth=o,this._context.strokeStyle=i||this._borderColor,this._context.beginPath(),this._context.arc(this._width/2,this._height/2,this._meterDiameter/2-o/2,0,2*Math.PI),this._context.closePath(),this._context.stroke(),this._context.restore(),this._use3D){this._context.save(),this._context.shadowColor="#ffffff",this._context.shadowBlur=17;const r=this._meterDiameter-this._calculatedBorderWidth;let n=this._width/2-r/4.5,l=this._height/2-r/5.27,d=r*.045;const a=new Path2D;a.arc(-this._width*2,l,d,0,2*Math.PI),this._context.shadowOffsetX=this._width*2+n,this._context.globalAlpha=.7,this._context.fill(a),this._context.restore(),this._context.save(),this._context.shadowColor="#ffffff",this._context.shadowBlur=11,n=this._width/2+r/5,l=this._height/2+r/4,d=r*.025;const c=new Path2D;c.arc(-this._width*2,l,d,0,2*Math.PI),this._context.shadowOffsetX=this._width*2+n,this._context.globalAlpha=.45,this._context.fill(c),this._context.restore()}}drawBubbles(){this._context.save(),this._bubbles.bubbles.forEach(t=>{t.update(this._elapsed),(t.isDead||t.y<this._bubbles.yThreshold)&&this._bubbles.resetBubble(t),this._context.beginPath(),this._context.strokeStyle=this._bubbleColor,this._context.arc(t.x-t.currentRadius/2,t.y-t.currentRadius/2,t.currentRadius,0,2*Math.PI),this._context.filter=`opacity(${t.currentOpacity})`,this._context.stroke(),this._context.closePath()}),this._context.restore()}calculateMeterDiameter(){return this._width>=this._height?this._height-this._padding:this._width-this._padding}resize(){super.resize(),this.calculateDrawingValues(),this._bubbles.reset()}}const b=[];b.push({borderWidth:22,initialProgress:75,backgroundColor:"#002d59",borderColor:"#3e4954",bubbleColor:"#6bcfff",fontFamily:"Codystar",fontSize:34,progressFormatter:h=>`${h.toFixed(0)}cm\xB2`,fluidConfiguration:{color:"#1e90ff"}});b.push({borderColor:"#567656",initialProgress:45,backgroundColor:"#2d3d2d",textColor:"#80cd32",fontFamily:"Creepster",progressFormatter:h=>h>50?h.toFixed(1)+"!":h.toFixed(1),fluidConfiguration:{color:"#adff2f",horizontalSpeed:p.FAST,waveSpeed:p.FAST}});b.push({initialProgress:66,borderColor:"#2a2a2a",backgroundColor:"#270100",showBubbles:!1,borderWidth:45,fontSize:27,progressFormatter:h=>h.toFixed(2)+"%",fluidConfiguration:{color:"#ff4500",horizontalSpeed:p.SLOW,waveSpeed:p.SLOW}});b.push({initialProgress:25,borderColor:"#dadada",backgroundColor:"#dadada",showBubbles:!0,borderWidth:22,dropShadow:!1,padding:0,fontSize:65,fluidConfiguration:{color:"#800080"}});b.push({borderWidth:22,initialProgress:23.2,padding:50,use3D:!1,fontFamily:"Shizuru",backgroundColor:"#002d59",borderColor:"#3e4954",bubbleColor:"#6bcfff",fontSize:60,progressFormatter:h=>h.toFixed(1)+"%",fluidConfiguration:{color:"#1e90ff",horizontalSpeed:p.FAST,waveSpeed:p.FAST}});b.push({borderWidth:22,initialProgress:62,padding:50,backgroundColor:"#208000",borderColor:"#800060",showProgress:!1,showBubbles:!1,dropShadow:!1,use3D:!1,fluidConfiguration:{color:"#f8f8ff"}});const m=(h,t)=>{const e=new R(h.querySelector(".meter"),t),i=h.querySelector("input"),o=h.querySelector("button");o==null||o.addEventListener("click",()=>{const r=Number(i==null?void 0:i.value);if(isNaN(r)){alert("invalid progress. Number between 0 and 100");return}if(r<0||r>100){alert("invalid progress. Number between 0 and 100");return}e.progress=r})};document.addEventListener("DOMContentLoaded",function(){m(document.querySelector("#meter-1"),b[0]),m(document.querySelector("#meter-2"),b[1]),m(document.querySelector("#meter-3"),b[2]),m(document.querySelector("#meter-4"),b[3]),m(document.querySelector("#meter-5"),b[4]),m(document.querySelector("#meter-6"),b[5])});
